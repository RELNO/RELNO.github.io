<!-- 
      ///////////////////////////////////////////////////////////////
   
     Portfolio Grid Section

      ///////////////////////////////////////////////////////////////
     How this portfolio works?
     - we load list of projects from an html using js
     - we display them in grid where images are loaded from project's folder
     - clicking on project triggers a injection of the project html [i.e p3.html] to a bootstrap modal 
     - images and videos or any other content for the project lives in project's folder
     
     This is based on the following: https://www.codexworld.com/bootstrap-modal-dynamic-content-jquery-ajax-php-mysql/
     /////////////////////////////////////////////////////////////// -->

<!-- Portfolio Section-->
<section class="mt-5 container portfolio" id="portfolio">
  <div class="col-3 text-center mt-5">
    <h2>Projects</h2>
  </div>

  <div class="row" id="portfolioGrid">
    <script>
      /**
       * Renders portfolio grid items based on the provided item details.
       * @param {Array} itemDetails - An array of objects containing item details.
       */
      function renderPortfolioGridItems(itemDetails) {
        var container = document.getElementById("portfolioGrid");
        // center the container
        container.className = "row justify-content-center";

        itemDetails.forEach(function (item) {
          var contentDiv = document.createElement("div");
          contentDiv.className =
            "portfolio-item-caption-content my-auto w-100 text-center text-dark";

          var itemDiv = document.createElement("div");
          itemDiv.className = "row col-sm-12 col-md-12 col-lg-8 grid-shrink";

          var button = document.createElement("button");
          button.name = item.name;
          button.type = "button";
          button.className = "portfolio-item btn btn-link";

          var captionDiv = document.createElement("div");
          captionDiv.className =
            "portfolio-item-caption d-flex position-absolute h-100 w-100";

          var title = document.createElement("b");
          title.textContent = item.title;

          var image = document.createElement("img");
          image.src = item.imageSrc;
          image.className = "img-fluid img-fluid-portfolio-grid";
          image.alt = "";

          contentDiv.appendChild(title);
          captionDiv.appendChild(contentDiv);
          button.appendChild(captionDiv);
          button.appendChild(image);
          itemDiv.appendChild(button);
          container.appendChild(itemDiv);
        });
      }
      // Fetch the JSON file containing item details
      fetch("/projects/projects.json")
        .then(function (response) {
          return response.json();
        })
        .then(function (itemDetails) {
          // Call the renderPortfolioGridItems function with the fetched JSON data
          renderPortfolioGridItems(itemDetails);
        })
        .catch(function (error) {
          console.error(error);
        });
    </script>

    <!-- Project Modal Script -->
    <script src="../js/project-modal.js"></script>

    <!-- Modal will be added by project-modal.js -->
  </div>
</section>
